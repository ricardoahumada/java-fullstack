package com.netmind.persistence;

import org.hibernate.Session;
import org.hibernate.SessionFactory;
import org.hibernate.Transaction;
import org.hibernate.cfg.Configuration;

import com.netmind.models.Department;
import com.netmind.models.Employee;

public class ManageEmployee {

	static SessionFactory factory = null;

	public static ManageEmployee instance = null;

	public ManageEmployee() {
		SessionFactory factory = new Configuration().configure().buildSessionFactory();
	}

	public static ManageEmployee getInstance() {
		if (instance == null) {
			instance = new ManageEmployee();
		}

		return instance;
	}

	public void insertEntities(){
		// creating session object
				Session session = factory.openSession();

				// creating transaction object
				Transaction t = session.beginTransaction();

				Employee e1 = new Employee("Ricarda","Juarez");
				session.persist(e1);
				
				Employee e2 = new Employee("Juan","García");
				session.persist(e2);
				
				Department d1 = new Department("Marketing", "Barcelona");
				session.persist(d1);

				t.commit();// transaction is commited
				session.close();
	}

}
